* sleeper

A deamon to keep track of how long you have been awake, by tracking your computer usage.

It tries to figure it out by checking:

- changes of status on X11 DPMS
- system suspensions
- system shutdowns (utmp)
- battery connection status (upower)

It has to run as a daemon, since there are no system logs for some of these.

Keeps these 2 files updated (to help me integrate with external programs, I can just check their modification date).

- ~/.cache/awaketime
- ~/.cache/sleeptime

Keeps historical data in a SQLite database:

- ~/.cache/sleeper.db

** Installation

#+begin_src
$ make deps
$ make
$ make install
$ systemctl --user enable sleeper
#+end_src

** References

- https://askubuntu.com/questions/1171742/how-to-get-date-time-of-the-last-system-hibernate-suspend-resume
- https://stackoverflow.com/questions/60477195/turning-off-monitor-in-c/60477486
- https://upower.freedesktop.org/docs/UPower-up-client.html
